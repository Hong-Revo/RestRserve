<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Authentication • RestRserve</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Authentication">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RestRserve</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/RestRserve.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Authentication.html">Authentication</a>
    </li>
    <li>
      <a href="../articles/ContentHandlers.html">Body encoding and decoding</a>
    </li>
    <li>
      <a href="../articles/Logging.html">Logging</a>
    </li>
    <li>
      <a href="../articles/Middleware.html">Middleware</a>
    </li>
    <li>
      <a href="../articles/benchmarks/Benchmarks.html">Benchmarks</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/dselivanov/RestRserve">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Authentication</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/dselivanov/RestRserve/blob/master/vignettes/Authentication.Rmd"><code>vignettes/Authentication.Rmd</code></a></small>
      <div class="hidden name"><code>Authentication.Rmd</code></div>

    </div>

    
    
<p>Out of the box RestRserve provides two authentication schemas: <a href="https://swagger.io/docs/specification/authentication/basic-authentication/"><code>Basic</code></a> and <a href="https://swagger.io/docs/specification/authentication/bearer-authentication/"><code>Bearer</code></a>.</p>
<div id="basic" class="section level2">
<h2 class="hasAnchor">
<a href="#basic" class="anchor"></a>Basic</h2>
<p><strong>Note that Basic authentication, should only be used over HTTPS (SSL) or within secure network.</strong> In HTTP protocol <code>Authorization</code> header (as well as other parts of the HTTP request) are plain text and are not encrypted!</p>
<p>According to <code>AuthBackendBasic</code> documentation first of all we need to provide an authentication function. It should take 2 arguments - <code>user</code> and <code>password</code> and return <code>logical</code> value - whether access is allowed for a given user or not.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(RestRserve)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"></a>
<a class="sourceLine" id="cb1-3" data-line-number="3">allowed_access =<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(</a>
<a class="sourceLine" id="cb1-4" data-line-number="4">  <span class="st">"user-1"</span> =<span class="st"> "password-1"</span>,</a>
<a class="sourceLine" id="cb1-5" data-line-number="5">  <span class="st">"user-2"</span> =<span class="st"> "password-2"</span></a>
<a class="sourceLine" id="cb1-6" data-line-number="6">)</a>
<a class="sourceLine" id="cb1-7" data-line-number="7"></a>
<a class="sourceLine" id="cb1-8" data-line-number="8">auth_fun =<span class="st"> </span><span class="cf">function</span>(user, password) {</a>
<a class="sourceLine" id="cb1-9" data-line-number="9">  res =<span class="st"> </span><span class="ot">FALSE</span></a>
<a class="sourceLine" id="cb1-10" data-line-number="10">  <span class="kw"><a href="https://rdrr.io/r/base/try.html">try</a></span>({</a>
<a class="sourceLine" id="cb1-11" data-line-number="11">    res =<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/identical.html">identical</a></span>(allowed_access[[user]], password)</a>
<a class="sourceLine" id="cb1-12" data-line-number="12">  }, <span class="dt">silent =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb1-13" data-line-number="13">  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span>(res)</a>
<a class="sourceLine" id="cb1-14" data-line-number="14">}</a></code></pre></div>
<p>Now we can create authentication backend.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">basic_auth_backend =<span class="st"> </span>AuthBackendBasic<span class="op">$</span><span class="kw">new</span>(<span class="dt">FUN =</span> auth_fun)</a></code></pre></div>
<p>Now let’s create application which requires authorization in order to use <code>/secure/factorial</code> endpoint:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"></a>
<a class="sourceLine" id="cb3-2" data-line-number="2">auth_mw =<span class="st"> </span>AuthMiddleware<span class="op">$</span><span class="kw">new</span>(</a>
<a class="sourceLine" id="cb3-3" data-line-number="3">  <span class="dt">auth_backend =</span> basic_auth_backend, </a>
<a class="sourceLine" id="cb3-4" data-line-number="4">  <span class="dt">routes =</span> <span class="st">"/secure/factorial"</span>, </a>
<a class="sourceLine" id="cb3-5" data-line-number="5">  <span class="dt">id =</span> <span class="st">"auth_middleware"</span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6">)</a>
<a class="sourceLine" id="cb3-7" data-line-number="7"></a>
<a class="sourceLine" id="cb3-8" data-line-number="8">app =<span class="st"> </span>Application<span class="op">$</span><span class="kw">new</span>(<span class="dt">middleware =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(auth_mw))</a></code></pre></div>
<p>Let’s add two endpoints - first public (<code>/factorial</code>) and second with restricted access (<code>/secure/factorial</code>):</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">factorial_handler =<span class="st"> </span><span class="cf">function</span>(request, response) {</a>
<a class="sourceLine" id="cb4-2" data-line-number="2">  x =<span class="st"> </span>request<span class="op">$</span><span class="kw">get_param_query</span>(<span class="st">"x"</span>)</a>
<a class="sourceLine" id="cb4-3" data-line-number="3">  x =<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/integer.html">as.integer</a></span>(x)</a>
<a class="sourceLine" id="cb4-4" data-line-number="4">  response<span class="op">$</span><span class="kw">set_body</span>(<span class="kw"><a href="https://rdrr.io/r/base/Special.html">factorial</a></span>(x))</a>
<a class="sourceLine" id="cb4-5" data-line-number="5">}</a>
<a class="sourceLine" id="cb4-6" data-line-number="6">app<span class="op">$</span><span class="kw">add_get</span>(<span class="st">"/factorial"</span>, factorial_handler)</a>
<a class="sourceLine" id="cb4-7" data-line-number="7">app<span class="op">$</span><span class="kw">add_get</span>(<span class="st">"/secure/factorial"</span>, factorial_handler)</a></code></pre></div>
<p>As we can see first endpoint doesn’t require any authentication:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">req =<span class="st"> </span>Request<span class="op">$</span><span class="kw">new</span>(<span class="dt">path =</span> <span class="st">"/factorial"</span>, <span class="dt">parameters_query =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">x =</span> <span class="st">"5"</span>))</a>
<a class="sourceLine" id="cb5-2" data-line-number="2">res =<span class="st"> </span>app<span class="op">$</span><span class="kw">process_request</span>(req)</a>
<a class="sourceLine" id="cb5-3" data-line-number="3">res<span class="op">$</span>body</a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="co">#&gt; [1] 120</span></a></code></pre></div>
<p>Let’s try to send a request without credentials to the second endpoint:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">req =<span class="st"> </span>Request<span class="op">$</span><span class="kw">new</span>(<span class="dt">path =</span> <span class="st">"/secure/factorial"</span>, <span class="dt">parameters_query =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">x =</span> <span class="st">"5"</span>))</a>
<a class="sourceLine" id="cb6-2" data-line-number="2">res =<span class="st"> </span>app<span class="op">$</span><span class="kw">process_request</span>(req)</a>
<a class="sourceLine" id="cb6-3" data-line-number="3">res<span class="op">$</span>body</a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="co">#&gt; [1] "401 Missing Authorization Header"</span></a></code></pre></div>
<p>As expected this gives <code>405</code> error.</p>
<p>Now let’s add correct credentials:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">credentials =<span class="st"> </span>jsonlite<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/jsonlite/man/base64.html">base64_enc</a></span>(<span class="st">"user-1:password-1"</span>)</a>
<a class="sourceLine" id="cb7-2" data-line-number="2">headers =<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"Authorization"</span> =<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/sprintf.html">sprintf</a></span>(<span class="st">"Basic %s"</span>, credentials))</a>
<a class="sourceLine" id="cb7-3" data-line-number="3"></a>
<a class="sourceLine" id="cb7-4" data-line-number="4">req =<span class="st"> </span>Request<span class="op">$</span><span class="kw">new</span>(</a>
<a class="sourceLine" id="cb7-5" data-line-number="5">  <span class="dt">path =</span> <span class="st">"/secure/factorial"</span>, </a>
<a class="sourceLine" id="cb7-6" data-line-number="6">  <span class="dt">parameters_query =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">x =</span> <span class="st">"5"</span>), </a>
<a class="sourceLine" id="cb7-7" data-line-number="7">  <span class="dt">headers =</span> headers</a>
<a class="sourceLine" id="cb7-8" data-line-number="8">)</a>
<a class="sourceLine" id="cb7-9" data-line-number="9"></a>
<a class="sourceLine" id="cb7-10" data-line-number="10">res =<span class="st"> </span>app<span class="op">$</span><span class="kw">process_request</span>(req)</a>
<a class="sourceLine" id="cb7-11" data-line-number="11">res<span class="op">$</span>body</a>
<a class="sourceLine" id="cb7-12" data-line-number="12"><span class="co">#&gt; [1] 120</span></a></code></pre></div>
<p>Success!</p>
<p>Let’s see what happens if password is wrong:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">credentials =<span class="st"> </span>jsonlite<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/jsonlite/man/base64.html">base64_enc</a></span>(<span class="st">"user-1:password-2"</span>)</a>
<a class="sourceLine" id="cb8-2" data-line-number="2">headers =<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"Authorization"</span> =<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/sprintf.html">sprintf</a></span>(<span class="st">"Basic %s"</span>, credentials))</a>
<a class="sourceLine" id="cb8-3" data-line-number="3"></a>
<a class="sourceLine" id="cb8-4" data-line-number="4">req =<span class="st"> </span>Request<span class="op">$</span><span class="kw">new</span>(</a>
<a class="sourceLine" id="cb8-5" data-line-number="5">  <span class="dt">path =</span> <span class="st">"/secure/factorial"</span>, </a>
<a class="sourceLine" id="cb8-6" data-line-number="6">  <span class="dt">parameters_query =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">x =</span> <span class="st">"5"</span>), </a>
<a class="sourceLine" id="cb8-7" data-line-number="7">  <span class="dt">headers =</span> headers</a>
<a class="sourceLine" id="cb8-8" data-line-number="8">)</a>
<a class="sourceLine" id="cb8-9" data-line-number="9"></a>
<a class="sourceLine" id="cb8-10" data-line-number="10">res =<span class="st"> </span>app<span class="op">$</span><span class="kw">process_request</span>(req)</a>
<a class="sourceLine" id="cb8-11" data-line-number="11">res<span class="op">$</span>body</a>
<a class="sourceLine" id="cb8-12" data-line-number="12"><span class="co">#&gt; [1] "401 Invalid Username/Password"</span></a></code></pre></div>
</div>
<div id="bearer" class="section level2">
<h2 class="hasAnchor">
<a href="#bearer" class="anchor"></a>Bearer</h2>
<p><code>Bearer</code> authentication (also called “token” authentication) is an HTTP authentication scheme that involves security tokens called bearer tokens. The name “Bearer authentication” can be understood as “give access to the bearer of this token.” The bearer token is a cryptic string, usually generated by the server in response to a login request. The client must send this token in the Authorization header when making requests to protected resources.</p>
<p>The <code>Bearer</code> authentication scheme was originally created as part of <code>OAuth 2.0</code> in <a href="https://tools.ietf.org/html/rfc6750">RFC 6750</a>, but is sometimes also used on its own. Similarly to Basic authentication, Bearer authentication should only be used over HTTPS (SSL).</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"></a>
<a class="sourceLine" id="cb9-2" data-line-number="2"></a>
<a class="sourceLine" id="cb9-3" data-line-number="3">allowed_tokens =<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(</a>
<a class="sourceLine" id="cb9-4" data-line-number="4">  <span class="st">"super_secure_token_1"</span>,</a>
<a class="sourceLine" id="cb9-5" data-line-number="5">  <span class="st">"super_secure_token_2"</span></a>
<a class="sourceLine" id="cb9-6" data-line-number="6">)</a>
<a class="sourceLine" id="cb9-7" data-line-number="7"></a>
<a class="sourceLine" id="cb9-8" data-line-number="8">auth_fun =<span class="st"> </span><span class="cf">function</span>(token) {</a>
<a class="sourceLine" id="cb9-9" data-line-number="9">  res =<span class="st"> </span><span class="ot">FALSE</span></a>
<a class="sourceLine" id="cb9-10" data-line-number="10">  <span class="kw"><a href="https://rdrr.io/r/base/try.html">try</a></span>({</a>
<a class="sourceLine" id="cb9-11" data-line-number="11">    res =<span class="st"> </span>token <span class="op">%in%</span><span class="st"> </span>allowed_tokens</a>
<a class="sourceLine" id="cb9-12" data-line-number="12">  }, <span class="dt">silent =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb9-13" data-line-number="13">  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span>(res)</a>
<a class="sourceLine" id="cb9-14" data-line-number="14">}</a>
<a class="sourceLine" id="cb9-15" data-line-number="15">basic_auth_backend =<span class="st"> </span>AuthBackendBearer<span class="op">$</span><span class="kw">new</span>(<span class="dt">FUN =</span> auth_fun)</a></code></pre></div>
<p>As an alternative to requiring authentication for a single endpoint we can make it mandatory for all endpoints which start with certain pattern:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">auth_mw =<span class="st"> </span>AuthMiddleware<span class="op">$</span><span class="kw">new</span>(</a>
<a class="sourceLine" id="cb10-2" data-line-number="2">  <span class="dt">auth_backend =</span> basic_auth_backend, </a>
<a class="sourceLine" id="cb10-3" data-line-number="3">  <span class="dt">routes =</span> <span class="st">"/secure/"</span>, </a>
<a class="sourceLine" id="cb10-4" data-line-number="4">  <span class="dt">match =</span> <span class="st">"partial"</span>,</a>
<a class="sourceLine" id="cb10-5" data-line-number="5">  <span class="dt">id =</span> <span class="st">"auth_middleware"</span></a>
<a class="sourceLine" id="cb10-6" data-line-number="6">)</a>
<a class="sourceLine" id="cb10-7" data-line-number="7">app =<span class="st"> </span>Application<span class="op">$</span><span class="kw">new</span>(<span class="dt">middleware =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(auth_mw))</a></code></pre></div>
<p>For example:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1">app<span class="op">$</span><span class="kw">add_get</span>(<span class="st">"/hello0"</span>, <span class="cf">function</span>(req, res) {res<span class="op">$</span>body =<span class="st"> "OK"</span>})</a>
<a class="sourceLine" id="cb11-2" data-line-number="2">app<span class="op">$</span><span class="kw">add_get</span>(<span class="st">"/secure/hello1"</span>, <span class="cf">function</span>(req, res) {res<span class="op">$</span>body =<span class="st"> "OK"</span>})</a>
<a class="sourceLine" id="cb11-3" data-line-number="3">app<span class="op">$</span><span class="kw">add_get</span>(<span class="st">"/secure/hello2"</span>, <span class="cf">function</span>(req, res) {res<span class="op">$</span>body =<span class="st"> "OK"</span>})</a></code></pre></div>
<p>Request with valid token to <code>/secure/hello1</code>:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1">headers =<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"Authorization"</span> =<span class="st"> "Bearer super_secure_token_1"</span>)</a>
<a class="sourceLine" id="cb12-2" data-line-number="2">req =<span class="st"> </span>Request<span class="op">$</span><span class="kw">new</span>(</a>
<a class="sourceLine" id="cb12-3" data-line-number="3">  <span class="dt">path =</span> <span class="st">"/secure/hello1"</span>, </a>
<a class="sourceLine" id="cb12-4" data-line-number="4">  <span class="dt">headers =</span> headers</a>
<a class="sourceLine" id="cb12-5" data-line-number="5">)</a>
<a class="sourceLine" id="cb12-6" data-line-number="6"></a>
<a class="sourceLine" id="cb12-7" data-line-number="7">res =<span class="st"> </span>app<span class="op">$</span><span class="kw">process_request</span>(req)</a>
<a class="sourceLine" id="cb12-8" data-line-number="8">res<span class="op">$</span>body</a>
<a class="sourceLine" id="cb12-9" data-line-number="9"><span class="co">#&gt; [1] "OK"</span></a></code></pre></div>
<p>Request with invalid token to <code>/secure/hello2</code>:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1">headers =<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"Authorization"</span> =<span class="st"> "Bearer abcd"</span>)</a>
<a class="sourceLine" id="cb13-2" data-line-number="2">req =<span class="st"> </span>Request<span class="op">$</span><span class="kw">new</span>(</a>
<a class="sourceLine" id="cb13-3" data-line-number="3">  <span class="dt">path =</span> <span class="st">"/secure/hello2"</span>, </a>
<a class="sourceLine" id="cb13-4" data-line-number="4">  <span class="dt">headers =</span> headers</a>
<a class="sourceLine" id="cb13-5" data-line-number="5">)</a>
<a class="sourceLine" id="cb13-6" data-line-number="6"></a>
<a class="sourceLine" id="cb13-7" data-line-number="7">res =<span class="st"> </span>app<span class="op">$</span><span class="kw">process_request</span>(req)</a>
<a class="sourceLine" id="cb13-8" data-line-number="8">res<span class="op">$</span>body</a>
<a class="sourceLine" id="cb13-9" data-line-number="9"><span class="co">#&gt; [1] "401 Invalid Token"</span></a></code></pre></div>
<p>Request to endpoint which doesn’t require authorization: <code>/hello0</code>:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">req =<span class="st"> </span>Request<span class="op">$</span><span class="kw">new</span>(<span class="dt">path =</span> <span class="st">"/hello0"</span>)</a>
<a class="sourceLine" id="cb14-2" data-line-number="2">res =<span class="st"> </span>app<span class="op">$</span><span class="kw">process_request</span>(req)</a>
<a class="sourceLine" id="cb14-3" data-line-number="3">res<span class="op">$</span>body</a>
<a class="sourceLine" id="cb14-4" data-line-number="4"><span class="co">#&gt; [1] "OK"</span></a></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#basic">Basic</a></li>
      <li><a href="#bearer">Bearer</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Dmitriy Selivanov, Artem Klevtsov, <a href="https://rexy.ai"></a><a href="https://www.rexy.ai"><img src="https://s3-eu-west-1.amazonaws.com/rexy.ai/images/rexy-logo.svg" height="48" alt="rexy.ai"></a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
